<launch> 
  <arg name="input_path_topic" default="/planning/behavior_planning/path" />
  <node pkg="path_planner" type="path2trajectory_converter_node" name="path2trajecotry_converter_node" output="screen">
    <remap from="~input/path" to="$(arg input_path_topic)" />
    <remap from="~output/path" to="path_planner/trajectory" />
  </node>

  <!-- stop velocity planning with obstacle pointcloud info -->
  <node pkg="stop_planner" type="stop_planner" name="stop_planner" output="log">
    <remap from="~input/trajectory" to="path_planner/trajectory" />
    <remap from="~input/point_cloud" to="/sensing/preprocess/lidar/no_ground/pointcloud" />
    <remap from="~output/trajectory" to="stop_planner/trajectory" />
  </node>

  <!-- velocity planning with max velocity, acceleration, jerk, stop point constraint -->
  <group>
    <remap from="~/input/trajectory" to="stop_planner/trajectory"/>
    <remap from="~/output/trajectory" to="trajectory"/>
    <include file="$(find velocity_planner)/launch/velocity_planner_osqp.launch"/>
  </group>

</launch>